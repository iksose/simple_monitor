{"version":3,"sources":["app.js","home/Servers_Service.js","home/controller.js","home/directives/masterStatus/directive.js","home/directives/serverStatus/serverStatus.js"],"names":[],"mappings":"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","file":"all.js","sourcesContent":["// Make sure to include the `ui.router` module as a dependency\nvar app = angular.module('simple_monitor', [\n    'ui.router'\n  ])\n  .config(\n    ['$stateProvider', '$urlRouterProvider', '$locationProvider',\n      function($stateProvider, $urlRouterProvider, $locationProvider) {\n        // $locationProvider.html5Mode(true);\n        // If the url is ever invalid, e.g. '/asdf', then redirect to '/' aka the home state\n        $urlRouterProvider.otherwise('/');\n\n        $stateProvider\n          .state('root', {\n            url: '/',\n            views: {\n              'container': {\n                templateUrl: 'client/app/home/home.html',\n                controller: 'homeCtrl as homeCtrl'\n              }\n            }\n          })\n      }\n    ]\n  );","angular.module('simple_monitor')\n  .service('Servers', function($http) {\n    class ServerService {\n      constructor() {\n        this.serversList = [];\n        this.getServers();\n        this.lastRequest = {\n          UTC: Date.now()\n        };\n      }\n      getServers() {\n        return $http.get('/api/secrets')\n          .success((servers) => {\n            this.serversList.push(...servers);\n          })\n      }\n      getHealth(url) {\n        return $http.get('/api/secrets/' + url)\n          .then((data) => {\n            this.lastRequest.UTC = Date.now();\n            return data.data;\n          })\n      }\n    }\n    var service = new ServerService;\n    return service;\n  });","angular.module('simple_monitor')\n  .controller('homeCtrl', function(Servers) {\n    class HomeCtrl {\n      constructor() {\n        this.test = [\"a\"];\n        this.servers = Servers.serversList;\n      }\n\n    }\n    var homeCtrl = new HomeCtrl;\n    return homeCtrl;\n  })","angular.module('simple_monitor')\n  .directive('masterStatus', function(Servers) {\n    return {\n      restrict: 'EA',\n      templateUrl: 'client/app/home/directives/masterStatus/template.html',\n      scope: {\n        // data: '='\n      },\n      controller: function($scope) {\n        this.allPassing = true;\n        this.lastRequest = Servers.lastRequest;\n      },\n      controllerAs: 'directiveCtrl'\n    };\n  })","angular.module('simple_monitor')\n  .directive('serverStatus', function(Servers) {\n    return {\n      restrict: 'EA',\n      templateUrl: 'client/app/home/directives/serverStatus/template.html',\n      scope: {\n        data: '='\n      },\n      controller: function($scope) {\n        this.interval;\n        this.init = function() {\n          this.isLoading = true;\n          Servers.getHealth($scope.data)\n            .then((result) => {\n              this.isLoading = false;\n              this.isAlive = result.isAlive\n              clearInterval(this.interval);\n              this.interval = setInterval(() => {\n                this.init();\n              }, 600000)\n            })\n        }\n        this.init();\n      },\n      controllerAs: 'directiveCtrl',\n    };\n  })\n  .directive('detailedInfo', function(Servers) {\n    return {\n      restrict: 'EA',\n      require: '^serverStatus',\n      templateUrl: 'client/app/home/directives/serverStatus/details.html',\n      scope: false,\n      controller: function($scope) {\n        var parentCtrl = $scope.$parent.directiveCtrl;\n      },\n      link: function(scope, elem, attrs, controllerInstance) {},\n      controllerAs: 'detailedInfoCtrl'\n    };\n  })"],"sourceRoot":"/source/"}